[gd_scene load_steps=28 format=3 uid="uid://cu4jaf5f1nlxo"]

[ext_resource type="Script" path="res://entities/player.gd" id="1_e1iir"]
[ext_resource type="PackedScene" uid="uid://dfdt5bke0tcu6" path="res://components/player_input_component.tscn" id="2_uw8o3"]
[ext_resource type="PackedScene" uid="uid://c03pfmwpgtofc" path="res://components/simple_graphics_component.tscn" id="3_xynmr"]
[ext_resource type="SpriteFrames" uid="uid://xdt74tl0fgn7" path="res://resources/player_sprite_frames.tres" id="4_sm4xv"]
[ext_resource type="PackedScene" uid="uid://uajwl8rwegui" path="res://components/inventory.tscn" id="5_m6tg5"]
[ext_resource type="PackedScene" uid="uid://hvjd5t2ulhhb" path="res://items/spawn_angel.tscn" id="6_rxnf4"]
[ext_resource type="PackedScene" uid="uid://djl7t4qk4315m" path="res://items/fire_ball.tscn" id="7_bsbvh"]
[ext_resource type="PackedScene" uid="uid://bs0yjnt7cccaj" path="res://items/ice_wave.tscn" id="8_llx5o"]
[ext_resource type="PackedScene" uid="uid://jie2026812kn" path="res://items/water_wave.tscn" id="9_dnjcm"]
[ext_resource type="PackedScene" uid="uid://bx4g4qr1x100s" path="res://items/water_ball.tscn" id="10_n030h"]
[ext_resource type="PackedScene" uid="uid://1oy1owh5aweh" path="res://items/fire_wave.tscn" id="11_biobd"]
[ext_resource type="PackedScene" uid="uid://c867pju6atw7e" path="res://components/hurtbox_component.tscn" id="11_hxc8l"]
[ext_resource type="PackedScene" uid="uid://uag18b8s0jg4" path="res://components/dialogue_component.tscn" id="12_7vj67"]
[ext_resource type="PackedScene" uid="uid://bx3pxaj88kom" path="res://items/fire_circle.tscn" id="12_du1gk"]
[ext_resource type="PackedScene" uid="uid://b6byd7ixvxc8n" path="res://components/can_interact_component.tscn" id="13_lp353"]
[ext_resource type="PackedScene" uid="uid://d245vil1ujogo" path="res://items/knife_slash.tscn" id="13_yrken"]
[ext_resource type="PackedScene" uid="uid://blmob811wmm2h" path="res://components/physics_handler_component.tscn" id="14_ljjej"]
[ext_resource type="PackedScene" uid="uid://b3c3vg8q6e5k7" path="res://components/effect_container.tscn" id="15_csrq8"]
[ext_resource type="Script" path="res://misc_scripts/damage_data.gd" id="17_dp7c4"]
[ext_resource type="Script" path="res://effects/fire_vulnerability.gd" id="18_dunkx"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qptjs"]
radius = 9.0
height = 20.0

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vhqd5"]
lifetime_randomness = 0.18
particle_flag_disable_z = true
particle_flag_damping_as_friction = true
inherit_velocity_ratio = 0.2
direction = Vector3(0, -1, 0)
spread = 65.455
initial_velocity_min = 125.0
initial_velocity_max = 125.0
gravity = Vector3(0, 0, 0)
damping_min = 2.273
damping_max = 6.818
turbulence_enabled = true

[sub_resource type="CircleShape2D" id="CircleShape2D_4s2ka"]

[sub_resource type="Gradient" id="Gradient_x6o5b"]
offsets = PackedFloat32Array(0, 0.558442)
colors = PackedColorArray(1, 1, 1, 0.596078, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mfdbb"]
gradient = SubResource("Gradient_x6o5b")
width = 256
height = 256
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="CircleShape2D" id="CircleShape2D_b1i4r"]
radius = 33.0

[sub_resource type="Resource" id="Resource_2bf1k"]
script = ExtResource("17_dp7c4")
damage = 1
damage_type = 1
knockback_type = 1
knockback_velocity = 0.0

[node name="PlayerEntity" type="CharacterBody2D" groups=["players"]]
collision_layer = 4
collision_mask = 6
script = ExtResource("1_e1iir")
health = 50
team = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_qptjs")

[node name="PlayerInputComponent" parent="." instance=ExtResource("2_uw8o3")]

[node name="SimpleGraphics" parent="." instance=ExtResource("3_xynmr")]
position = Vector2(0, -6)
has_footstep_particles = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SimpleGraphics"]
sprite_frames = ExtResource("4_sm4xv")
animation = &"idle"
autoplay = "idle"

[node name="GPUParticles2D" type="GPUParticles2D" parent="SimpleGraphics"]
modulate = Color(0.721569, 0.721569, 0.721569, 1)
z_index = -1
position = Vector2(0, 13)
emitting = false
amount = 30
process_material = SubResource("ParticleProcessMaterial_vhqd5")
lifetime = 0.16
one_shot = true
explosiveness = 0.83

[node name="Inventory" parent="." instance=ExtResource("5_m6tg5")]

[node name="SpawnAngel" parent="Inventory" instance=ExtResource("6_rxnf4")]
limited_use = false

[node name="FireBall" parent="Inventory" instance=ExtResource("7_bsbvh")]
limited_use = false

[node name="WaterBall" parent="Inventory" instance=ExtResource("10_n030h")]
item_name = "Waterbolt"
limited_use = false

[node name="FireWave" parent="Inventory" instance=ExtResource("11_biobd")]
item_name = "Fire Wave"
limited_use = false

[node name="IceWave" parent="Inventory" instance=ExtResource("8_llx5o")]
limited_use = false

[node name="WaterWave" parent="Inventory" instance=ExtResource("9_dnjcm")]
limited_use = false

[node name="FireCircle" parent="Inventory" instance=ExtResource("12_du1gk")]
uses = 5
max_uses = 5

[node name="KnifeSlash" parent="Inventory" instance=ExtResource("13_yrken")]

[node name="HurtboxComponent" parent="." instance=ExtResource("11_hxc8l")]

[node name="Area2D" type="Area2D" parent="HurtboxComponent"]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtboxComponent/Area2D"]
shape = SubResource("CircleShape2D_4s2ka")

[node name="PointLight2D" type="PointLight2D" parent="."]
z_index = 1
energy = 0.5
shadow_enabled = true
texture = SubResource("GradientTexture2D_mfdbb")

[node name="DialogueComponent" parent="." instance=ExtResource("12_7vj67")]
lifetime = 1.0
speed = 2.0

[node name="CanInteractComponent" parent="." node_paths=PackedStringArray("detection_area") instance=ExtResource("13_lp353")]
detection_area = NodePath("Area2D")

[node name="Area2D" type="Area2D" parent="CanInteractComponent"]
collision_layer = 128
collision_mask = 64

[node name="CollisionShape2D" type="CollisionShape2D" parent="CanInteractComponent/Area2D"]
shape = SubResource("CircleShape2D_b1i4r")

[node name="PhysicsHandler" parent="." instance=ExtResource("14_ljjej")]
take_collision_damage = false

[node name="EffectContainer" parent="." instance=ExtResource("15_csrq8")]

[node name="FireVulnerability" type="Node" parent="EffectContainer"]
script = ExtResource("18_dunkx")
immunity = 1.0
tick_damage = SubResource("Resource_2bf1k")
